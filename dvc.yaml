stages:
  compose:
    cmd: python src/compose.py
    deps:
    - src/compose.py
    - src/config.py
    - src/data_transformer.py
    - src/utils.py
    - src/datasets.py
    outs:
    - data/data.pkl
  prepare:
    cmd: python src/prepare.py
    deps:
    - data/data.pkl
    - src/prepare.py
    - src/config.py
    - src/data_transformer.py
    - src/utils.py
    - src/datasets.py
    outs:
    - data/data_prepared.pkl
  diagrams:
    cmd: python src/diagrams.py
    deps:
    - data/data_prepared.pkl
    - src/diagrams.py
    - src/config.py
    - src/data_transformer.py
    - src/utils.py
    - src/datasets.py
    outs:
    - data/diagrams.pkl
    # frozen: true
  featurize:
    cmd: python src/featurize.py
    deps:
      - data/diagrams.pkl
      - src/featurize.py
      - src/config.py
      - src/data_transformer.py
      - src/utils.py
      - src/datasets.py
    outs:
      - data/features.pkl
  rfe_reduce:
    cmd: python src/rfe_reduce.py
    deps:
      - data/features.pkl
      - src/spotcheck.py
      - src/rfe_reduce.py
      - src/config.py
      - src/data_transformer.py
      - src/utils.py
      - src/datasets.py
    outs:
      - metrics/rfe_reduce.pkl
